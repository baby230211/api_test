(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{dcdd:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")]),n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.select,expression:"select"}],attrs:{name:"",id:""},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.select=e.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",value:""}},[t._v("請選擇")]),t._l(t.list,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)]),t.select?n("router-view",{on:{update:t.update}}):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.select,expression:"!select"}],staticClass:"doc"},[t.loading?n("div",{staticClass:"loading"},[t._v("loading")]):t._e(),n("div",{staticClass:"container"},t._l(t.tourism,(function(e){return n("div",{key:e.ID,staticClass:"item"},[t._v(" "+t._s(e.Name)+" "),n("div",[t._v(" "+t._s(e.Description)+" ")])])})),0),n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.nodata,expression:"nodata"}],staticClass:"bottom"},[t._v(" 我是頁尾 ")]),n("h1",{directives:[{name:"show",rawName:"v-show",value:!t.nodata,expression:"!nodata"}]},[t._v(" 沒有資料了 ")])])])],1)},i=[],a=(n("99af"),n("bc3a")),s=n.n(a),u={data:function(){return{list:["Taipei","NewTaipei","Taoyuan","Taichung","Tainan","Kaohsiung","Keelung","Hsinchu","HsinchuCounty","MiaoliCounty","ChanghuaCounty","NantouCounty","YunlinCounty","ChiayiCounty","Chiayi","PingtungCounty","YilanCounty","HualienCounty","TaitungCounty","KinmenCounty","PenghuCounty","LienchiangCounty"],tourism:[],select:"",loading:!1,nodata:!0}},methods:{update:function(t){this.select=t},loadMore:function(){var t=this,e=this.tourism.length;e%30!=0&&this.test(),console.log(e),s.a.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot",{params:{$top:"30",$skip:"".concat(e),$format:"JSON"}}).then((function(e){t.tourism=t.tourism.concat(e.data)})).catch((function(t){console.log(t)}))},obs:function(){var t=this,e=new IntersectionObserver((function(e){var n=window.innerHeight-100;if(1==e[0].intersectionRatio&&e[0].boundingClientRect["y"]>n){if(t.loading)return;t.loading=!0,setTimeout((function(){t.loadMore(),t.loading=!1}),4e3)}}),{threshold:[1]});e.observe(document.querySelector(".bottom"))},call:function(){var t=this;this.loading||(this.loading=!0,setTimeout((function(){s.a.get("https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot",{params:{$top:"30",$format:"JSON"}}).then((function(e){console.log(e.data),t.tourism=e.data,t.loading=!1}))}),2e3))}},mounted:function(){this.call(),this.obs()},watch:{$route:function(t){console.log(t),t.params.id?this.select=t.params.id:t.params.id||(this.select="",this.tourism=[],this.call())},select:function(t){t?t!=this.$route.params.id&&this.$router.push({path:"/api_test/ScenicSpot/"+t}):console.log(t)}}},c=u,r=n("2877"),l=Object(r["a"])(c,o,i,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=about.b300e933.js.map